{"ast":null,"code":"import _regeneratorRuntime from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TodoList(props){var api=axios.create({baseURL:\"http://localhost:4000\"});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];useEffect(function(){function loadTodos(){return _loadTodos.apply(this,arguments);}function _loadTodos(){_loadTodos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/').then(function(data){setTodos(data.data);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _loadTodos.apply(this,arguments);}loadTodos();});function deleteTodo(id){api.delete(\"/delete/\".concat(id)).then(function(){setTodos(todos.filter(function(todo){return todo._id===id;}));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-center\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Todo List\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Todo\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",colSpan:2,children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:todos.map(function(todo){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:todo._id}),/*#__PURE__*/_jsx(\"td\",{children:todo.todo}),/*#__PURE__*/_jsx(\"td\",{children:todo.priority}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-secondary sm\",to:\"/edit/\".concat(todo._id),children:\"Edit\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger sm\",onClick:function onClick(){deleteTodo(todo._id);},children:\"Delete\"})})]},todo._id);})})]})]});}","map":{"version":3,"sources":["/home/pacis/Desktop/react_js/todo-app/frontend/src/components/TodoList.jsx"],"names":["React","useEffect","useState","Link","axios","TodoList","props","api","create","baseURL","todos","setTodos","loadTodos","get","then","data","deleteTodo","id","delete","filter","todo","_id","map","priority"],"mappings":"4eAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACpC,GAAMC,CAAAA,GAAG,CAAGH,KAAK,CAACI,MAAN,CAAa,CACrBC,OAAO,wBADc,CAAb,CAAZ,CADoC,cAIXP,QAAQ,CAAC,EAAD,CAJG,wCAI7BQ,KAJ6B,eAIvBC,QAJuB,eAKpCV,SAAS,CAAC,UAAI,SACKW,CAAAA,SADL,qIACV,yJACUL,CAAAA,GAAG,CAACM,GAAJ,CAAQ,GAAR,EACLC,IADK,CACA,SAAAC,IAAI,CAAE,CACRJ,QAAQ,CAACI,IAAI,CAACA,IAAN,CAAR,CACH,CAHK,CADV,uDADU,4CAOVH,SAAS,GACZ,CARQ,CAAT,CAUA,QAASI,CAAAA,UAAT,CAAoBC,EAApB,CAAuB,CACnBV,GAAG,CAACW,MAAJ,mBAAsBD,EAAtB,GACCH,IADD,CACM,UAAI,CACNH,QAAQ,CAACD,KAAK,CAACS,MAAN,CAAa,SAACC,IAAD,CAAQ,CAAC,MAAOA,CAAAA,IAAI,CAACC,GAAL,GAAaJ,EAApB,CAAuB,CAA7C,CAAD,CAAR,CACH,CAHD,EAIH,CACD,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,iCADJ,EADJ,cAII,eAAO,SAAS,CAAC,OAAjB,wBACI,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,gBADJ,cAEI,WAAI,KAAK,CAAC,KAAV,kBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,sBAHJ,cAII,WAAI,KAAK,CAAC,KAAV,CAAgB,OAAO,CAAE,CAAzB,qBAJJ,GADJ,EADJ,cASI,uBACKP,KAAK,CAACY,GAAN,CAAU,SAAAF,IAAI,CAAE,CACd,mBAAO,mCACF,oBAAKA,IAAI,CAACC,GAAV,EADE,cAEF,oBAAKD,IAAI,CAACA,IAAV,EAFE,cAGF,oBAAKA,IAAI,CAACG,QAAV,EAHE,cAIF,iCAAI,KAAC,IAAD,EAAM,SAAS,CAAC,sBAAhB,CAAuC,EAAE,iBAAWH,IAAI,CAACC,GAAhB,CAAzC,kBAAJ,EAJE,cAKF,iCAAI,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAE,kBAAI,CACnDL,UAAU,CAACI,IAAI,CAACC,GAAN,CAAV,CAAqB,CADrB,oBAAJ,EALE,GAASD,IAAI,CAACC,GAAd,CAAP,CAQF,CATA,CADL,EATJ,GAJJ,GADJ,CA6BH","sourcesContent":["import React,{useEffect,useState} from 'react'\nimport {Link} from \"react-router-dom\"\nimport axios from \"axios\";\n\nexport default function TodoList(props) {\n    const api = axios.create({\n        baseURL:`http://localhost:4000`\n    })\n    const [todos,setTodos] = useState([])\n    useEffect(()=>{\n        async function loadTodos(){\n            await api.get('/')\n            .then(data=>{\n                setTodos(data.data)\n            })\n        }   \n        loadTodos();\n    })\n\n    function deleteTodo(id){\n        api.delete(`/delete/${id}`)\n        .then(()=>{\n            setTodos(todos.filter((todo)=>{return todo._id === id}))\n        })\n    }\n    return (\n        <div className=\"container\">\n            <div className=\"mt-3 text-center\">\n                <h3>Todo List</h3>\n            </div>\n            <table className=\"table\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Id</th>\n                        <th scope=\"col\">Todo</th>\n                        <th scope=\"col\">Priority</th>\n                        <th scope=\"col\" colSpan={2}>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {todos.map(todo=>{\n                       return <tr key={todo._id}>\n                            <td>{todo._id}</td>\n                            <td>{todo.todo}</td>\n                            <td>{todo.priority}</td>\n                            <td><Link className=\"btn btn-secondary sm\" to={`/edit/${todo._id}`}>Edit</Link></td>\n                            <td><button className=\"btn btn-danger sm\" onClick={()=>{\n                                deleteTodo(todo._id)}}>Delete</button></td>\n                        </tr>\n                    })}                               \n                </tbody>\n            </table>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}