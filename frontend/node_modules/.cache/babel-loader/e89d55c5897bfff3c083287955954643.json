{"ast":null,"code":"import _regeneratorRuntime from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/pacis/Desktop/react_js/todo-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useHistory}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditTodo(props){var history=useHistory();var api=axios.create({baseURL:\"http://localhost:4000\"});var _useState=useState({todo:\"\",priority:\"\"}),_useState2=_slicedToArray(_useState,2),updatedData=_useState2[0],setUpdatedData=_useState2[1];useEffect(function(){api.get(\"/edit/\".concat(props.match.params.id)).then(function(data){setUpdatedData(data.data);});},[]);function updatedTodoData(e){var name=e.target.name;var value=e.target.value;setUpdatedData(_objectSpread(_objectSpread({},updatedData),{},_defineProperty({},name,value)));}function createTodoRequest(_x){return _createTodoRequest.apply(this,arguments);}function _createTodoRequest(){_createTodoRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return api.post(\"/edit/\".concat(props.match.params.id),{todo:updatedData.todo,priority:updatedData.priority}).then(function(resp){alert(JSON.stringify(resp.data));history.push('/');}).catch(function(err){console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _createTodoRequest.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[\"Edit Todo\",/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){createTodoRequest(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"todo\",children:\"Todo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"todo\",id:\"todo\",value:updatedData.todo,onChange:updatedTodoData,className:\"form-control\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"priority\",children:\"Priority:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"priority\",id:\"priority\",value:updatedData.priority,onChange:updatedTodoData,className:\"form-control\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success sm\",children:\"Update\"})})]})]});}","map":{"version":3,"sources":["/home/pacis/Desktop/react_js/todo-app/frontend/src/components/EditTodo.jsx"],"names":["React","useEffect","useState","useHistory","axios","EditTodo","props","history","api","create","baseURL","todo","priority","updatedData","setUpdatedData","get","match","params","id","then","data","updatedTodoData","e","name","target","value","createTodoRequest","preventDefault","post","resp","alert","JSON","stringify","push","catch","err","console","log"],"mappings":"uzBAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAyBC,QAAzB,KAAwC,OAAxC,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACpC,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,GAAMK,CAAAA,GAAG,CAAGJ,KAAK,CAACK,MAAN,CAAa,CACrBC,OAAO,CAAC,uBADa,CAAb,CAAZ,CAFoC,cAKCR,QAAQ,CAAC,CAACS,IAAI,CAAC,EAAN,CAASC,QAAQ,CAAC,EAAlB,CAAD,CALT,wCAK7BC,WAL6B,eAKjBC,cALiB,eAMpCb,SAAS,CAAC,UAAI,CACVO,GAAG,CAACO,GAAJ,iBAAiBT,KAAK,CAACU,KAAN,CAAYC,MAAZ,CAAmBC,EAApC,GACCC,IADD,CACM,SAAAC,IAAI,CAAE,CACRN,cAAc,CAACM,IAAI,CAACA,IAAN,CAAd,CACH,CAHD,EAIH,CALQ,CAKP,EALO,CAAT,CAMA,QAASC,CAAAA,eAAT,CAAyBC,CAAzB,CAA2B,CACvB,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB,CACA,GAAME,CAAAA,KAAK,CAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB,CACAX,cAAc,gCACPD,WADO,wBAETU,IAFS,CAEHE,KAFG,GAAd,CAKH,CApBmC,QAqBrBC,CAAAA,iBArBqB,+JAqBpC,iBAAiCJ,CAAjC,kHACIA,CAAC,CAACK,cAAF,GADJ,sBAEUnB,CAAAA,GAAG,CAACoB,IAAJ,iBAAkBtB,KAAK,CAACU,KAAN,CAAYC,MAAZ,CAAmBC,EAArC,EAA0C,CAACP,IAAI,CAACE,WAAW,CAACF,IAAlB,CAAuBC,QAAQ,CAACC,WAAW,CAACD,QAA5C,CAA1C,EACJO,IADI,CACC,SAAAU,IAAI,CAAE,CACRC,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeH,IAAI,CAACT,IAApB,CAAD,CAAL,CACAb,OAAO,CAAC0B,IAAR,CAAa,GAAb,EACH,CAJI,EAKJC,KALI,CAKE,SAAAC,GAAG,CAAE,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACF,CAPI,CAFV,uDArBoC,oDAgCpC,mBACI,aAAK,SAAS,CAAC,WAAf,oCAEI,cAAO,QAAQ,CAAE,kBAACb,CAAD,CAAK,CAACI,iBAAiB,CAACJ,CAAD,CAAjB,CAAqB,CAA5C,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,MAAf,mBADJ,cAKI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,EAAE,CAAC,MAAlC,CAAyC,KAAK,CAAET,WAAW,CAACF,IAA5D,CAAmE,QAAQ,CAAEU,eAA7E,CAA8F,SAAS,CAAC,cAAxG,CAAuH,QAAQ,KAA/H,EALJ,GADJ,cAQI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,UAAf,uBADJ,cAKI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,EAAE,CAAC,UAAtC,CAAiD,KAAK,CAAER,WAAW,CAACD,QAApE,CAA8E,QAAQ,CAAES,eAAxF,CAAyG,SAAS,CAAC,cAAnH,CAAkI,QAAQ,KAA1I,EALJ,GARJ,cAeI,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,oBAAhC,oBADJ,EAfJ,GAFJ,GADJ,CAwBH","sourcesContent":["import React,{useEffect, useState} from 'react'\nimport {useHistory} from \"react-router-dom\"\nimport axios from \"axios\"\n\nexport default function EditTodo(props) {\n    const history = useHistory() \n    const api = axios.create({\n        baseURL:\"http://localhost:4000\"\n    })\n    const [updatedData,setUpdatedData] = useState({todo:\"\",priority:\"\"})\n    useEffect(()=>{\n        api.get(`/edit/${props.match.params.id}`)\n        .then(data=>{\n            setUpdatedData(data.data)\n        })\n    },[])\n    function updatedTodoData(e){    \n        const name = e.target.name  \n        const value = e.target.value\n        setUpdatedData({\n            ...updatedData,\n            [name]:value\n        })\n    \n    }\n    async function createTodoRequest(e){\n        e.preventDefault()\n        await api.post(`/edit/${props.match.params.id}`,{todo:updatedData.todo,priority:updatedData.priority})\n         .then(resp=>{\n             alert(JSON.stringify(resp.data))\n             history.push('/')\n         })\n         .catch(err=>{\n            console.log(err)\n         })\n    }\n    return (\n        <div className=\"container\">\n            Edit Todo\n            <form  onSubmit={(e)=>{createTodoRequest(e)}}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"todo\">\n                        Todo:\n                    </label>\n                   {/* @ts-ignore */}                        \n                    <input type=\"text\" name=\"todo\" id=\"todo\" value={updatedData.todo}  onChange={updatedTodoData} className=\"form-control\" required/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"priority\">    \n                        Priority:\n                    </label>\n                    {/*@ts-ignore*/}\n                    <input type=\"text\" name=\"priority\" id=\"priority\" value={updatedData.priority} onChange={updatedTodoData} className=\"form-control\" required/>\n                </div>\n                <div className=\"form-group\">\n                    <button type=\"submit\" className=\"btn btn-success sm\">Update</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}